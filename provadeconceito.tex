\chapter{Prova de Conceito}

Como prova de conceito, foi criado um projeto simples, de forma a utilizar
o \gls{mta}, o \textit{plugin AccTrace} e os outros recursos relacionados neste trabalho, assim
como os outros relacionados neste trabalho. Os atores aqui elencados são
fictícios, tendo os autores deste trabalho como especialista em acessibilidade.
O objetivo aqui não é aplicar a prova de conceito no \gls{mta}, por isso nem todos
os artefatos presentes no \gls{mta} foram construídos. A ênfase considerada nesta prova de conceito está no modelo de rastreabilidade e na ferramenta proposta neste trabalho.

\section{Definição do projeto}

O cliente solicitou a construção de um \textit{software} buscador. O objetivo
deste \textit{software} é fazer buscas na \textit{internet} utilizando como
chave uma ou mais palavras fornecidas pelo usuário. O buscador será um software \textit{web}, sendo acessado através de navegadores.

\subsection{Subprocesso 1 - Elicitação dos Requisitos do Sistema}

No subprocesso 1 (Elicitação dos Requisitos do Sistema), observando a tarefa 1.1
do \gls{mta} (Identificar os Requisitos de Acessibilidade do Sistema), o
especialista em acessibilidade identificou que:

\begin{itemize}
  \item não existem características específicas do usuário: todos usuários
  poderão acessar o sistema, independente de habilidade e deficiências dos
  mesmos;
  \item como requisitos de domínio, foi identificado que o \textit{software}
  deve estar disponível para a linguagem nativa do usuário, e caso ele prefira,
  a linguagem pode ser alterada. A busca deve ser influenciada pela escolha da
  linguagem;
  \item não existem requisitos tecnológicos específicos: o sistema deve ser
  acessado indepentende de dispositivo ou tecnologia;
  \item requisito de performance: o sistema deve retornar o resultado em menos
  de 2 segundos, para não prejudicar a percepção do usuário;
  \item requisito de conformidade: o sistema deve seguir a recomendação de
  acessibilidade \gls{wcag} 2.0, sem nível definido.
\end{itemize} 

Nenhum requisito funcional de acessibilidade foi identificado nesta etapa; até
agora, o sistema deve seguir as boas práticas genéricas de acessibilidade para
englobar todos os conjuntos de usuários/deficiências.

\subsection{Subprocesso 2 - Análise de Requisitos do Sistema}

Partindo para o subprocesso 2 (Análise de Requisitos do Sistema), na tarefa 2.1
(Especificar os Requisitos de Acessibilidade do Sistema), o especialista em
acessibilidade identificou que:

\begin{itemize}
  \item características do usuário: não existe um público alvo definido. Não é
  possível inferir qual o nível de experiência do público alvo;
  \item requisitos de domínio: como ordem de execução de tarefas, o usuário deve
  informar a chave de pesquisa, recebendo o resultado no passo seguinte;
  \item requisitos de tecnologia: dependendo da deficiência/impedimento
  momentâneo do usuário, as tecnologias podem variar desde um leitor de tela até
  o navegador textual. Isso deve ser considerado na utilização do
  \textit{software};
  \item alternativas pré-existentes: serviços como Google, Bing ou Yahoo
  fornecem buscadores com os mesmo propósitos;
  \item qualidade das alternativas: o buscador do Google promove a busca
  acessível levando em consideração alguns aspectos das páginas
  analisadas \citep{google:13}.
  Não foi identificado se o buscador Bing ou Yahoo possui algum mecanismo que
  avalie a acessibilidade das páginas avaliadas, apesar das duas empresas
  possuírem áreas que tratam de questões de
  acessibilidade\footnote{http://yaccessibilityblog.com/ e
  http://www.microsoft.com/enable/}.
\end{itemize}

O especialista em acessibilidade constatou que 2 requisitos funcionais de
acessibilidade estão presentes: o mecanismo de busca será alterado toda vez que
a linguagem padrão for alterada, e o mecanismo de busca será alterado quando o
usuário informar suas necessidades específicas, por exemplo, sua deficiência. As
duas abordagens podem ser desativadas caso o usuário prefira.

Nada mais pode ser dito sobre acessibilidade neste momento. Portanto, o
especialista em acessibilidade acrescentou como requisito não funcional: os
elementos do sistema devem ser: perceptíveis, operáveis, compreensíveis e robustos, seguindo os
princípios do \gls{wcag} 2.0. A avaliação dos requisitos de acessibilidade é
feita na tarefa 2.2 (Avaliar os Requisitos de Acessibilidade do Sistema) e
registrada no documento de requisitos de acessibilidade do sistema
revisado.

\section{Modelagem do Sistema}

Os artefatos para que os desenvolvedores implementem o sistema começam a surgir
a partir desta etapa.

\subsection{Subprocesso 3 - Projeto Arquitetural do Sistema}

No subprocesso 3 (Projeto Arquitetural do Sistema), as tarefas 3.1 (Alocar
Requisitos de Acessibilidade aos Elementos do Sistema) e 3.2 (Avaliar o Projeto Arquitetural do 
Sistema com Relação aos Requisitos de Acessibilidade) tratam da decomposição do
sistema em componentes menores, assim como a especificação da responsabilidade
de cada componente. Para os requisitos de acessibilidade descritos
anteriormente, é definido que, para cada um dos requisitos funcionais
(alteração do mecanismo de busca), um componente individual será gerado, podendo
ter um elemento de renderização genérico, ou um ou mais componentes de
renderização para cada uma das alterações do mecanismo de busca, ou até da
combinação delas.

O requisito não funcional identificado deve permear todos os componentes do
projeto, inclusive os já descritos anteriormente.

\subsection{Subprocesso 4 - Análise de Requisitos do Software}

No Subprocesso 4 (Análise de Requisitos do Software), os requisitos de
acessibilidade do \textit{software} (interface e código) são estabelecidos.

Nas Taferas (Estabelecer os Requisitos de Acessibilidade do Software) e
(Avaliar os Requisitos de Acessibilidade do Software) os requisitos de sistema
são especificados, avaliados e documentados em requisitos de \textit{software}.
Todos os requisitos, tanto os funcionais (RF) como os não-funcionais 
(RNF), inclusive os de acessibilidade (RA), podem ser vistos abaixo:

\begin{itemize}
  \item RF1: o sistema deve permitir que, dado uma chave de busca (uma ou mais
  palavras), o resultado da busca seja retornado (RF);
  \item RF2: o sistema deve permitir que o usuário altere a linguagem padrão da
  ferramenta (RF);
  \item RF3: o sistema deve permitir que o usuário altere o constraste da página
  (RF);
  \item RF4: o sistema deve permitir que o usuário altere o tamanho da fonte da
  página (RF);
  \item RF6: o sistema deve permitir que o usuário informe qual é o tipo de
  limitação/deficiência possui (RF);
  \item RF8: o sistema deve fornecer atalhos via teclado, para alterar o idioma
  e a informação sobre a limitação/deficiência, sempre voltando o foco para a caixa
  de texto principal (RF e RA);  
  \item RFA1: o sistema deve utilizar a linguagem especificada como critério de
  seleção no mecanismo de busca (RF e RA);
  \item RFA2: o sistema deve utilizar o tipo de limitação/deficiência como
  critério de seleção no mecanismo de busca (RF e RA);
   \item RFA3: o sistema deve permitir que todas as funcionalidades sejam
   acessíveis via teclado (RF e RA);
  \item RFA4: o sistema deve permitir que, ao ser especificado o tipo de
  limitação/deficiência, a utilização de métrica de acessibilidade sejam
  utilizadas para classificar as páginas (RF e RA).    
  \item RNF1: o sistema deve retornar o resultado da busca em menos de 2
  segundos, para não prejudicar a percepção do usuário (RNF);
  \item RNFA1: o sistema deve seguir a recomendação de
  acessibilidade \gls{wcag} 2.0, nível AAA (RNF e RA);
  \item RNFA2: o sistema deve fornecer componentes perceptíveis, operáveis,
  compreensíveis e robustos (RNF e RA);
  \item RNFA3: o sistema deve permitir que o tempo para ler e utilizar o
  conteúdo seja suficiente (RNF e RA);
  \item RNFA4: o sistema deve entregar um conteúdo que não cause convulsão (RNF
  e RA);
  \item RNFA5: o sistema deve permitir que o usuário navegue facilmente e
  encontre o conteúdo desejado (RNF e RA);
\end{itemize}

No \textit{plugin Requirement Designer}, os requisitos são agrupados em 2
categorias principais: Requisitos Funcionais e Requisitos Não Funcionais. Cada
uma dessas categorias possui uma categoria de agrupamento dos requisitos de
acessibilidade. A Figura \ref{fig:facomsearchrequirementplugin} mostra o
cadastro dos requisitos na ferramenta.

\begin{figure}[htbp]
\centering
\includegraphics[width=\textwidth]{./images/facomsearchrequirementplugin.png}
\caption{Cadastro dos requisitos no \textit{plugin Requirement Designer}}
\label{fig:facomsearchrequirementplugin}
\end{figure}

O diagrama de casos de uso pode ser visto na Figura
\ref{fig:facomsearchusescase}, assim como o diagrama de classes pode ser visto
na Figura \ref{fig:facomsearchclassdiagram}. Como a implementação final deste
projeto não é o foco deste trabalho, as especificações dos casos de uso, assim
como outros diagramas \gls{uml} que não são transformados
no código final não serão construídos. O diagrama de casos de uso aqui
apresentado também não é usado pelo gerador de código, mas pela importância do
artefato entendeu-se que era necessário a construção do mesmo.

\begin{figure}[htbp]
\centering
\includegraphics[width=\textwidth]{./images/facomsearchusescase.png}
\caption{Diagrama de casos de uso do buscador}
\label{fig:facomsearchusescase}
\end{figure}

\begin{figure}[htbp]
\centering
\includegraphics[width=\textwidth]{./images/facomsearchclassdiagram.png}
\caption{Diagrama de classes do buscador}
\label{fig:facomsearchclassdiagram}
\end{figure}

Vale notar que o \gls{mta} não especifica exatamente quando os diagramas
apresentados devem ser construídos. Por este motivo, o momento oportuno para a
construção dos mesmos foi entre os subprocessos 4 e 5, pela gama de informações
já levantada.

De posse dos diagramas \gls{uml}, já é possível associá-los aos requisitos,
utilizando o \textit{plugin Requirement Designer}. Com os requisitos e modelos
\gls{uml} já associados, o arquivo .acctrace pode ser criado, recebendo como
entrada o arquivo .requirement. A Figura \ref{fig:referenciascriadas} mostra os
elementos \gls{uml}, e para o modelo selecionado, os requisitos que a ele estão
associados.

\begin{figure}[htbp]
\centering
\includegraphics[width=\textwidth]{./images/referenciascriadas.png}
\caption{Modelos \gls{uml} e requisitos associados}
\label{fig:referenciascriadas}
\end{figure}

\subsection{Subprocesso 5 - Projeto de Software}

O subprocesso 5 (Projeto de \textit{Software}) visa fornecer um projeto onde os requisitos do software possam ser
implementados e verificados. Os elementos de interface são definidos nas
tarefas seguintes (Tarefa Projetar Interfaces Externas Acessíveis e
Tarefa Realizar Projeto Navegacional Acessível), e \citet{maia:10}
estabelece relacionamentos com o \gls{wcag} 2.0 nestas tarefas. Por
este motivo, mostrou-se adequado especificar as técnicas de acessibilidade neste
momento. Na Subtarefa Estabelecer a disposição dos elementos na
interface, por exemplo, são citados três critérios de sucesso:

\begin{itemize}
  \item \textbf{critério de Sucesso 1.3.1 - Informações e Relacionamento:} A informação,
estrutura e relacionamento transmitido por meio de apresentação devem ser
determinados programaticamente;
  \item \textbf{critério de Sucesso 1.3.2 - Sequência Significativa:} A sequência correta de
leitura dos elementos da interface deve ser determinada programaticamente;
  \item \textbf{critério de Sucesso 1.3.3 - Características Sensoriais:} As instruções
fornecidas para o entendimento e operação do conteúdo não devem confiar
somente em características sensoriais dos componentes, tais como forma,
tamanho, localização visual, orientação ou som.
\end{itemize}

A Subtarefa Definir as cores dos elementos sugere
um critério de sucesso

\begin{itemize}
  \item \textbf{critério de Sucesso 1.4.1 - Uso de Cores:} As cores não devem ser usadas
como único meio para transmitir informação, indicar uma ação, mostrar uma
resposta ou distinguir um elemento visual.
\end{itemize}

A Subtarefa Definir a ordem de navegação dos objetos sugere um
critério de sucesso

\begin{itemize}
  \item \textbf{critério de Sucesso 2.4.3 - Ordem do Foco:} Se a página Web pode ser
navegada sequencialmente e a sequência de navegação afeta o entendimento ou
operação, então os componentes focalizáveis devem receber o foco considerando
a ordem dos elementos, preservando o entendimento e a operabilidade dos
mesmos.
\end{itemize}

\citet{maia:10} não especificou nenhum critério de sucesso para a Subtarefa Definir atalhos de navegação, mas é possível sugerir
genericamente um que sirva como ponto de partida:

\begin{itemize}
  \item \textbf{critério de Sucesso 2.1.1 - Teclado:} Toda a funcionalidade do conteúdo é operável 
  através de uma interface de teclado sem requerer temporizações específicas para digitação individual, 
  exceto quando a função subsequentes requer entrada que depende do caminho do
  movimento do usuário e não apenas dos pontos finais.
\end{itemize}

Os critérios de sucesso aqui apresentados são sugestões e podem ou não ser
utilizados dependendo da situação. Neste ponto, podemos especificar as técnicas
de acessibilidade no \textit{plugin AccTrace}. É importante notar que não apenas
critérios de sucesso que estão presentes no \textit{plugin}; todas as
abordagens, diretrizes, técnicas, entre outros (definidos nos arquivos de
ontologia) estão disponíveis para a associação, dependendo apenas das
características específicas do projeto e da maturidade do especialista em
acessibilidade.

A Figura \ref{fig:tecnicasassociadas} mostra, como exemplo de uma das
associações, a classe \textit{Engine}, presente no diagrama
de classes, associada ao requisito não funcional RNFA1 (Padrão
\gls{wcag} 2.0, nível AAA), tendo as diretrizes 1.1, 2.1, 3.1 e 4.1 associadas como técnicas de acessibilidade.

\begin{figure}[htbp]
\centering
\includegraphics[width=\textwidth]{./images/tecnicasassociadas.png}
\caption{Associação das técnicas de acessibilidade para um modelo e requisito
selecionado.}
\label{fig:tecnicasassociadas}
\end{figure}

Já é possível gerar a matriz de rastreabilidade. As Figuras \ref{fig:reqtec} e
\ref{fig:reqtec} mostram uma parte dos dados gerados, para a associação de
requisitos e técnicas, bem como modelos e técnicas.

\begin{figure}[htbp]
\centering
\includegraphics[width=\textwidth]{./images/reqtec.png}
\caption{Parte da matriz de rastreabilidade de requisitos e técnicas}
\label{fig:reqtec}
\end{figure}

\begin{figure}[htbp]
\centering
\includegraphics[width=\textwidth]{./images/modeltec.png}
\caption{Parte da matriz de rastreabilidade de modelos e técnicas}
\label{fig:modeltec}
\end{figure}

\subsection{Subprocesso 6 - Construção do Software}

A proposta da construção do software é produzir unidades de \textit{software}
executáveis que apropriadamente refletem o projeto do software. A tarefa 6.1
(Especificar Técnicas para Implementação da Acessibilidade da Interface e do
Código), segundo \citet{maia:10}, sugere que técnicas específicas para atender
aos requisitos de acessibilidade do sistema deverão ser pesquisadas tais como o
documento de referência do \gls{wcag} que apresenta técnicas suficientes para a
promoção de acessibilidade. Para a prova de conceito proposta, este passo foi
feito no final do subprocesso 5, utilizando o \textit{plugin AccTrace} para tal.

A tarefa 6.2 (Codificar cada Unidade de Software de Acordo com Técnicas de
Acessibilidade) refere-se a construção propriamente dita da solução proposta. O
\textit{plugin} modificado \textit{\gls{uml} to Java Generator} se encarregará
de construir os códigos \textit{stub} com os comentários personalizados
\textit{AccTrace}, recebendo como entrada os modelos \gls{uml} e também o
arquivo de referências gerados pelo \textit{plugin AccTrace}.

A Figura \ref{fig:generatedcode} ilustra uma parte do código gerado, mostrando também alguma das
classes geradas na visão \textit{Project Explorer}, dando ênfase na classe
\textit{ViewRenderer}, observando os comentários \textit{AccTrace}
personalizados bem como a descrição de um deles na visão \textit{AccTrace
Comment View}.

\begin{figure}[htbp]
\centering
\includegraphics[width=\textwidth]{./images/generatedcode.png}
\caption{Visualização do código gerado, com os comentários \textit{AccTrace}
personalizados}
\label{fig:generatedcode}
\end{figure}

Os construtores do \textit{software} podem partir destes códigos \textit{stub}
e continuar a construção da ferramenta, sendo beneficiados pelos comentários
\textit{AccTrace} espalhados pelas classes. A prova de conceito termina neste
ponto, pois prosseguindo com o processo de desenvolvimento \gls{mta}, as
próximas tarefas são a tarefa 6.3 (Planejar Teste de Acessibilidade para Cada
Unidade de Software) e a tarefa 6.4 (Executar Teste de Acessibilidade de Cada
Unidade de Software), que estão fora do escopo desta dissertação. É importante
notar que a ontologia utilizada inclui elementos de testes que podem ser
associados como técnicas de
acessibilidade \cite{wcagtech:13} que podem ser
utilizadas nas tarefas 6.3 e 6.4, mas a execução das tarefas de maneira efetiva
não é aqui abordada.

\section{Limitações da Prova de Conceito}

A prova de conceito aqui apresentada visa demostrar como seria a utilização das
técnicas e ferramentas em um ambiente real. Contudo, não foi possível verificar
se os passos aqui apresentados seriam realmente utilizados. Apesar de estender a
ISO/IEC 12207, a utilização efetiva do \gls{mta} não foi encontrada na
literatura, para servir como base para este trabalho.

A operação dos \textit{plugins} construídos/alterados ao longo deste trabalho se
mostraram dificultosos em casos pontuais. Algumas dificuldades só foram
encontradas na execução da prova de conceito, sugerindo que algumas partes
específicas da ferramenta devem ser adequadas, para que a usabilidade das
ferramentas seja melhorada.

O volume de dados dos artefatos gerados foi relativamente pequeno. A falta de
profissionais que efetivamente trabalhem com Engenharia de Requisitos, Modelagem
e principalmente, a falta de um Especialista em Acessibilidade, profissionais
estes que poderiam gerar dados mais próximos de um projeto real, impacta
significativamente na análise do volume de dados \textit{versus} facilidade de
utilização. As ferramentas geralmente se tornam mais complexas e precisam de
filtros complexos para entregar os dados corretos no momento certo, escondendo
os demais, quando o volume de dados é muito grande.

A falta de um especialista em acessibilidade impactou negativamente em perceber
se as informações apresentadas pela ferramenta foram suficientes ou
desnecessárias. Não foi possível dizer se os mapeamentos encontrados na
ontologia utilizada foram suficientes para fornecer informações úteis aos
projetistas/desenvolvedores. Este não é um problema tão sério, já que a
ontologia pode ser modificada/aprimorada utilizando a ferramenta
\textit{Protegé}, devendo o \textit{plugin AccTrace} ser alterado para que
comporte a nova realidade do domínio.

Devido a complexidade dos relacionamentos da ontologia utilizada, apenas as
diretrizes do modelo de referência \gls{wcag} 2.0 foi utilizada, por já estarem
previamente mapeadas. O \textit{plugin AccTrace} foi inteiramente construído
utilizando estes relacionamentos como orientação. Por este motivo, a inclusão de
novos modelos (como por exemplo, o eMag 3.0) não é uma tarefa simples. Primeiro,
a ontologia deve ser construída e depois o \textit{plugin AccTrace} deve ser
adaptado para refletir a nova realidade do modelo de referência. A consequência
deste fato é que a atualização dos modelos de referência torna-se uma tarefa
complexa, inclusive para a atualização do modelo \gls{wcag} 2.0. 

Um limitação, que deve ser tratada em trabalhos futuros, é que o sistema
atualmente não trata o caso de remoção de requisitos/modelos \gls{uml} dos
artefatos iniciais. Mudanças nos requisitos e modelos \gls{uml} são automaticamente atualizados (visto que apenas as referências a esses objetos são armazenadas).
Contudo, as remoções dos elementos nos artefatos causam um comportamento
inesperado no sistema, obrigando o modelo \textit{AccTrace} a ser atualizado
manualmente (com comandos explícitos de remoção das associações no
\textit{plugin}).

\section{Conclusões da Prova de Conceito}

Apesar das limitações encontradas na execução da prova de conceito, os objetivos
propostos foram atingidos. Os objetivos propostos foram:

\begin{itemize}
  \item \textbf{seja orientada ao desenvolvedor (a apresentação dos resultados
  nas ferramentas tradicionais são adequadas para avaliação e auditoria de
  \textit{sites}, e não para desenvolvedores):} as ferramentas aqui
  desenvolvidas foram construídas pensando em engenheiros de requisitos,
  analistas, arquitetos, programadores e desenvolvedores;
  \item \textbf{seja integrada ao ambiente de desenvolvimento do
  desenvolvedor:} não apenas do desenvolvedor, mas todos os profissionais
  anteriormente elencados utilizam o ambiente de desenvolvimento
  \textit{Eclipse}, permitindo a total integração das ferramentas. A única
  ressalva é quanto a visualização da matriz de rastreabilidade, que deve ser
  visualizada com ferramentas que aceitem arquivos \gls{ods}, notadamente o
  \textit{LibreOffice} \cite{libreoffice:13};
  \item \textbf{apresente informações objetivas, e no momento em que o
  desenvolvedor desejar visualizar:} o especialista em acessibilidade define o
  que será apresentado ao desenvolvedor, e o desenvolvedor escolhe quando verá
  as informações, ativando a \textit{view AccTrace Comment View}, clicando nos
  marcadores para que a informação possa aparecer;
  \item \textbf{tenha relação direta entre os requisitos e casos de uso com a
  etapa de codificação:} os \textit{plugins} utilizados são interoperáveis,
  permitindo a definição e relacionamento dos requisitos e modelos \gls{uml},
  recuperados na etapda de codificação;
  \item \textbf{permita que seja feita o rastreamento dos requisitos de
  acessibilidade, desde a sua concepção até as fases de codificação:} o
  rastreamento pode ser feito no \textit{plugin AccTrace}, bem como utilizando
  a matriz de rastreabilidade;
  \item \textbf{permita que o desenvolvedor consiga verificar, em nível de
  código, a associação dos requisitos e modelos:} o desenvolvedor consegue, a
  partir de um comentário \textit{AccTrace} personalizado, recuperar
  informações sobre o requisito e modelo \gls{uml} associado.
\end{itemize}

Portanto, foi possível rastrear os requisitos, desde a sua concepção e
definição, passando pelos modelos e artefatos \gls{uml} e finalmente, sendo recuperados já na fase
de codificação. A entrega de informações que possam ser úteis ao
desenvolvedor é efetuada. O especialista em acessibilidade informa qual técnica
de acessibilidade determinado modelo/requisito deve usar como guia (seja
abordagens, diretrizes, critérios de sucesso, técnicas, etc), estando estas
informações disponíveis para consulta pelo desenvolvedor. O desenvolvedor terá,
então, um ponto de partida para codificar o produto da forma correta. 

\section{Considerações Finais}

Este capítulo apresentou a execução da prova de conceito, demonstrando a
utilização das ferramentas construídas e alteradas ao longo deste trabalho,
aplicando a um projeto fictício, que utilizou o modelo de processo de
desenvolvimento \gls{mta}, gerando os artefatos necessários para que a
rastreabilidade dos requisitos seja verificada e os códigos \textit{stub} sejam
gerados.

O próximo capítulo apresentará as contribuições e trabalhos futuros.
